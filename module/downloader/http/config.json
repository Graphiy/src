{
  "plugin": {
    "id": "downloader.http",
    "label": "CONF_MESSAGE[Remote Download]",
    "description": "CONF_MESSAGE[Async downloader to load a file from another source]",
    "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",
    "xsi:noNamespaceSchemaLocation": "file:../core.app/registry.xsd",
    "class_definition": {
      "filename": "plugins/downloader.http/class.HttpDownloader.php",
      "classname": "HttpDownloader"
    },
    "client_settings": {
      "resources": {
        "i18n": {
          "namespace": "httpdownloader",
          "path": "plugins/downloader.http/resources/i18n"
        },
        "img_library": {
          "alias": "httpdownloader_images",
          "path": "plugins/downloader.http/resources/images"
        },
        "css": {
          "file": "plugins/downloader.http/resources/downloader.css",
          "autoload": "true"
        }
      }
    },
    "registry_contributions": {
      "extensions": {
        "extension": [
          {
            "mime": "download",
            "messageId": "httpdownloader.17",
            "icon": "httpdownloader_image/ICON_SIZE/kget_list.png"
          },
          {
            "mime": "dlpart",
            "messageId": "httpdownloader.18",
            "icon": "httpdownloader_image/ICON_SIZE/make.png"
          }
        ]
      },
      "actions": {
        "action": [
          {
            "name": "upload",
            "subMenu": {
            }
          },
          {
            "name": "external_download",
            "gui": {
              "text": "httpdownloader.1",
              "title": "httpdownloader.2",
              "src": "httpdownloader_image/ICON_SIZE/external_download.png",
              "accessKey": "httpdownloader.3",
              "hasAccessKey": "true",
              "context": {
                "selection": "false",
                "dir": "true",
                "recycle": "hidden",
                "actionBar": "false",
                "contextMenu": "false",
                "infoPanel": "false",
                "actionBarGroup": "put",
                "inZip": "false"
              }
            },
            "rightsContext": {
              "noUser": "true",
              "userLogged": "only",
              "read": "false",
              "write": "true",
              "adminOnly": ""
            },
            "processing": {
              "clientCallback": {
                "prepareModal": "true",
                "dialogOpenForm": "external_download",
                "dialogOnOpen": {},
              },
              "clientForm": {
                "id": "external_download",
                "$t": "<div id=\"external_download\" action=\"external_download\" box_width=\"320\"><span class=\"dialoglegend\">AJXP_MESSAGE[httpdownloader.4]</span><div style=\"padding:10px;\">AJXP_MESSAGE[httpdownloader.5] 1 : <input type=\"text\" name=\"url\" style=\"width:227px;\" class=\"dialogFocus\"><br/>AJXP_MESSAGE[httpdownloader.5] 2 : <input type=\"text\" name=\"url2\" style=\"width:227px;margin-top:5px;\"><br/>AJXP_MESSAGE[httpdownloader.5] 3 : <input type=\"text\" name=\"url3\" style=\"width:227px;margin-top:5px;\"><br/>AJXP_MESSAGE[httpdownloader.5] 4 : <input type=\"text\" name=\"url4\" style=\"width:227px;margin-top:5px;\"><br/>AJXP_MESSAGE[httpdownloader.5] 5 : <input type=\"text\" name=\"url5\" style=\"width:227px;margin-top:5px;\"></div></div>"
              },
              "serverCallback": {
                "methodName": "switchAction"
              }
            }
          },
          {
            "name": "external_download_file",
            "gui": {
              "text": "httpdownloader.1",
              "title": "httpdownloader.2",
              "src": "httpdownloader_image/ICON_SIZE/kget_list.png",
              "accessKey": "httpdownloader.3",
              "hasAccessKey": "false",
              "context": {
                "selection": "true",
                "dir": "true",
                "recycle": "hidden",
                "actionBar": "true",
                "contextMenu": "true",
                "infoPanel": "false",
                "actionBarGroup": "get",
                "inZip": "false"
              },
              "selectionContext": {
                "dir": "false",
                "file": "true",
                "recycle": "false",
                "unique": "true",
                "allowedMimes": "download",
                "behaviour": "hidden"
              }
            },
            "rightsContext": {
              "noUser": "true",
              "userLogged": "only",
              "read": "false",
              "write": "true",
              "adminOnly": ""
            },
            "processing": {
              "serverCallback": {
                "methodName": "switchAction"
              }
            }
          },
          {
            "name": "generate_dl_bookmarklet",
            "gui": {
              "text": "httpdownloader.9",
              "title": "httpdownloader.9",
              "src": "httpdownloader_image/ICON_SIZE/add_bookmarklet.png",
              "accessKey": "httpdownloader.3",
              "hasAccessKey": "false",
              "context": {
                "selection": "false",
                "dir": "true",
                "recycle": "hidden",
                "actionBar": "false",
                "contextMenu": "true",
                "infoPanel": "false",
                "actionBarGroup": "utils",
                "inZip": "false"
              }
            },
            "rightsContext": {
              "noUser": "true",
              "userLogged": "only",
              "read": "false",
              "write": "true",
              "adminOnly": ""
            },
            "processing": {
              "clientCallback": {
                "prepareModal": "true",
                "dialogOpenForm": "dynamic_bookmarklet",
              },
              "clientForm": {
                "id": "dynamic_bookmarklet",
                "$t": "<div id=\"dynamic_bookmarklet\" box_width=\"400\"><div>AJXP_MESSAGE[httpdownloader.11]</div><div id=\"bookmarklet_links_container\" style=\"width:400px;\"><a href=\"\" id=\"bookmarklet_link\" title=\"AJXP_MESSAGE[httpdownloader.10]\"  alt=\"AJXP_MESSAGE[httpdownloader.10]\">AJXP_MESSAGE[httpdownloader.10]</a><a href=\"\" id=\"bookmarklet_link_a\" title=\"AJXP_MESSAGE[httpdownloader.10]\"  alt=\"AJXP_MESSAGE[httpdownloader.10]\"></a><a href=\"\" id=\"bookmarklet_link_b\" title=\"AJXP_MESSAGE[httpdownloader.10]\"  alt=\"AJXP_MESSAGE[httpdownloader.10]\"></a><a href=\"\" id=\"bookmarklet_link_c\" title=\"AJXP_MESSAGE[httpdownloader.10]\"  alt=\"AJXP_MESSAGE[httpdownloader.10]\"></a><a href=\"\" id=\"bookmarklet_link_d\" title=\"AJXP_MESSAGE[httpdownloader.10]\"  alt=\"AJXP_MESSAGE[httpdownloader.10]\"></a></div><div style=\"clear:left;\">AJXP_MESSAGE[httpdownloader.15]</div><textarea id=\"bookmarklet_textarea\" style=\"width: 100%;margin-top: 4px;height: 140px;\"></textarea></div>"
              }
            }
          },
          {
            "name": "update_dl_data",
            "processing": {
              "serverCallback": {
                "methodName": "switchAction"
              }
            }
          },
          {
            "name": "stop_dl",
            "processing": {
              "serverCallback": {
                "methodName": "switchAction"
              }
            }
          },
          {
            "name": "get_xml_registry",
            "post_processing": {
              "serverCallback": {
                "methodName": "switchAction"
              }
            }
          }
        ]
      },
      "hooks": {
        "serverCallback": {
          "hookName": "node.info",
          "methodName": "detectDLParts"
        }
      }
    },
    "dependencies": {
      "activePlugin": {
        "pluginName": "access.AJXP_STREAM_PROVIDER"
      }
    }
  }
}
