{
	"registry_contributions" : {
		"xmlns:xsi" : "http://www.w3.org/2001/XMLSchema-instance",
		"xsi:noNamespaceSchemaLocation" : "file:../core.application/ajxp_registry.xsd",
		"actions" : {
			"action" : [{
					"name" : "ls",
					"dirDefault" : "true",
					"gui" : {
						"text" : "32",
						"title" : "32",
						"src" : "fileopen.png",
						"accessKey" : "folder_access_key",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "false",
							"actionBar" : "false",
							"actionBarGroup" : "put",
							"contextMenu" : "true",
							"infoPanel" : "true"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "true",
							"allowedMimes" : "AJXP_MIMES_ZIP"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : "false"
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var path;if(window.actionArguments && window.actionArguments.length>0){path = window.actionArguments[0];if(Object.isString(path)){path = new AjxpNode(path,false,getBaseName(path));}}else{userSelection = application.getUserSelection();if(userSelection && userSelection.isUnique() && (userSelection.hasDir() || userSelection.hasMime(\"AJXP_MIMES_ZIP\".split(\",\")))){path = userSelection.getUniqueNode();}}if(path){application.updateContextData(path);}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "upload",
					"gui" : {
						"text" : "27",
						"title" : "27",
						"src" : "yast_backup.png",
						"accessKey" : "upload_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "false",
							"dir" : "true",
							"recycle" : "hidden",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "put",
							"inZip" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "false",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var uploaders = application.getActiveExtensionByType(\"uploader\");if(uploaders.length){var uploader = uploaders[0];if(application.actionBar.getActionByName(\"trigger_remote_copy\")){modal.setCloseAction(function(){application.fireContextRefresh();var bgManager = application.actionBar.bgManager;bgManager.queueAction(\"trigger_remote_copy\", new Hash(), \"Copying files to server\");bgManager.next();});}if(uploader.dialogOnOpen){uploader.resourcesManager.load();var dialogOnOpen = new Function(\"oForm\", uploader.dialogOnOpen);}if(uploader.dialogOnComplete){uploader.resourcesManager.load();var dialogOnComplete = new Function(\"oForm\", uploader.dialogOnComplete);}modal.showDialogForm('Upload', uploader.formId, dialogOnOpen, null, dialogOnComplete, true, true);}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "empty_recycle",
					"gui" : {
						"text" : "220",
						"title" : "221",
						"src" : "trashcan_empty.png",
						"accessKey" : "empty_recycle_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "false",
							"dir" : "true",
							"recycle" : "only",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "false",
							"$t" : "application.getContextHolder().selectAll();window.setTimeout(function(){application.actionBar.fireAction('delete');}, 200);"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "download",
					"fileDefault" : "false",
					"gui" : {
						"text" : "88",
						"title" : "88",
						"src" : "download_manager.png",
						"accessKey" : "download_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "false",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "true",
							"actionBarGroup" : "put"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var userSelection = application.getUserSelection();if((userSelection.isUnique() && !userSelection.hasDir()) || (zipEnabled && multipleFilesDownloadEnabled)){if(gaTrackEvent){fileNames = userSelection.getFileNames();for(var i=0; i<fileNames.length;i++){gaTrackEvent(\"Data\", \"Download\", fileNames[i]);}}var agent = navigator.userAgent;if(agent && (agent.indexOf('iPhone')!=-1||agent.indexOf('iPod')!=-1||agent.indexOf('iPad')!=-1||agent.indexOf('iOs')!=-1)){var downloadUrl = ajxpServerAccessPath+'&get_action=download';downloadUrl = userSelection.updateFormOrUrl(null,downloadUrl);document.location.href=downloadUrl;}else{$('download_form').action = window.ajxpServerAccessPath;$('download_form').secure_token.value = Connexion.SECURE_TOKEN;$('download_form').select(\"input\").each(function(input){if(input.name!='get_action' && input.name!='secure_token') input.remove();});userSelection.updateFormOrUrl($('download_form'));$('download_form').submit();}}else{var loadFunc = function(oForm){var dObject = oForm.getElementsBySelector('div[id=\"multiple_download_container\"]')[0];var downloader = new MultiDownloader(dObject, ajxpServerAccessPath+'&action=download&file=');downloader.triggerEnd = function(){hideLightBox()};fileNames = userSelection.getFileNames();for(var i=0; i<fileNames.length;i++){downloader.addListRow(fileNames[i]);}};var closeFunc = function(){hideLightBox();return false;};modal.showDialogForm('Download Multiple', 'multi_download_form', loadFunc, closeFunc, null, true);}"
						},
						"clientForm" : {
							"id" : "multi_download_form",
							"$t" : "<div id=\"multi_download_form\" title=\"AJXP_MESSAGE[118]\"  box_width=\"345\"><div class=\"dialogLegend\">AJXP_MESSAGE[119]</div><br/><div id=\"multiple_download_container\"></div><form style=\"display:inline;\" action=\"index.php\" method=\"GET\" id=\"download_form\" target=\"download_iframe\"><input type=\"hidden\" name=\"get_action\" value=\"download\"><input type=\"hidden\" name=\"secure_token\" value=\"\"></form><iframe id=\"download_iframe\" name=\"download_iframe\" style=\"display:none\"></iframe></div>"
						},
						"clientListener" : {
							"name" : "selectionChange",
							"$t" : "if(application){var userSelection = application.getUserSelection();var action = application.getActionBar().getActionByName(\"download\");if(zipEnabled && multipleFilesDownloadEnabled){if(action){if((userSelection.isUnique() && !userSelection.hasDir()) || userSelection.isEmpty()){action.setIconSrc('download_manager.png');}else{action.setIconSrc('accessories-archiver.png');}}}else{if(userSelection.hasDir() && action){action.selectionContext.dir = false;}}}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "compress",
					"gui" : {
						"text" : "313",
						"title" : "314",
						"src" : "archive_insert.png",
						"accessKey" : "",
						"hasAccessKey" : "false",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "hidden",
							"actionBar" : "false",
							"contextMenu" : "true",
							"infoPanel" : "true",
							"actionBarGroup" : "get",
							"inZip" : "false"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "file",
							"recycle" : "false",
							"unique" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var userSelection = application.getUserSelection();if((zipEnabled && multipleFilesDownloadEnabled)){var loadFunc = function(oForm){var zipName;if(userSelection.isUnique()){zipName = getBaseName(userSelection.getUniqueFileName());if(!userSelection.hasDir()) zipName = zipName.substr(0, zipName.lastIndexOf(\"\\.\"));}else{zipName = getBaseName(userSelection.getContextNode().getPath());if(zipName == \"\") zipName = \"Archive\";}var index=1;var buff = zipName;while(userSelection.fileNameExists(zipName + \".zip\")){zipName = buff + \"-\" + index; index ++ ;}oForm.select('input[id=\"archive_name\"]')[0].value = zipName + \".zip\" ;};var closeFunc = function(){userSelection.updateFormOrUrl(modal.getForm());application.actionBar.submitForm(modal.getForm());hideLightBox();};modal.showDialogForm('Compress selection to ...', 'compress_form', loadFunc, closeFunc);}"
						},
						"clientForm" : {
							"id" : "compress_form",
							"$t" : "<div id=\"compress_form\" action=\"compress\" box_width=\"200\">AJXP_MESSAGE[315]<br/><input type=\"text\" name=\"archive_name\" value=\"\" id=\"archive_name\" class=\"dialogFocus initFicName\"></div>"
						},
						"clientListener" : {
							"name" : "selectionChange",
							"$t" : "if(application){var userSelection = application.getUserSelection();var action = application.getActionBar().getActionByName(\"compress\");if(!zipEnabled || !multipleFilesDownloadEnabled){if(action){if(userSelection.isUnique()) action.selectionContext.multipleOnly = true;else action.selectionContext.unique = true;}}}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "download_chunk",
					"gui" : {
						"text" : "397",
						"title" : "398",
						"src" : "download_manager.png",
						"hasAccessKey" : "false",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "false",
							"actionBar" : "false",
							"contextMenu" : "true",
							"infoPanel" : "true",
							"actionBarGroup" : "get"
						},
						"selectionContext" : {
							"dir" : "false",
							"file" : "true",
							"recycle" : "false",
							"unique" : "true"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var userSelection = application.getUserSelection();var loadFunc = function(oForm){var dObject = oForm.down('div[id=\"multiple_download_container\"]');var legendDiv = oForm.down('div.dialogLegend');legendDiv.next(\"br\").remove();legendDiv.update(MessageHash[399]+'<br>'+MessageHash[401]+'<a href=\"'+MessageHash[402]+'\" target=\"_blank\">'+MessageHash[402]+'</a>');dObject.insert({before:'\\<div class=\"dialogButtons\" id=\"chunk_dl_form\" style=\"height:36px;\"> \\<span style=\"display:inline-block;float:left;margin-top: 11px;margin-left: 4px;margin-right: 4px;\">'+MessageHash[400]+'</span> <input type=\"text\" style=\"float:left;margin-top:5px; text-align:right; width:30px;height:24px;\" name=\"chunk_count\" id=\"chunk_count\" value=\"4\"> \\<input type=\"image\" style=\"float:left;\" id=\"dl_form_submit\" src=\"AJXP_THEME_FOLDER/images/actions/22/dialog_ok_apply.png\" height=\"22\" width=\"22\" title=\"OK\" class=\"dialogButton dialogFocus\">\\</div> \\'});$(\"dl_form_submit\").observe(\"click\", function(e){Event.stop(e);var conn = new Connexion();conn.addParameter(\"get_action\", \"prepare_chunk_dl\");conn.addParameter(\"chunk_count\", $(\"chunk_count\").value );conn.addParameter(\"file\", userSelection.getUniqueNode().getPath());var downloader = new MultiDownloader(dObject, '');conn.onComplete = function(transp){var chunkData = transp.responseJSON;downloader.setDownloadUrl(ajxpServerAccessPath+'&action=download_chunk&file_id='+chunkData.file_id);downloader.triggerEnd = function(){hideLightBox();};for(var i=0; i<chunkData.chunk_count;i++){downloader.addListRow(\"&chunk_index=\" + i, chunkData.localname + \" (part \" + (i + 1) + \")\");}downloader.removeOnLoad();};downloader.setOnLoad();conn.sendAsync();});};var closeFunc = function(){hideLightBox();return false;};modal.showDialogForm('Download Multiple', 'multi_download_form', loadFunc, closeFunc, null, true);"
						},
						"clientForm" : {
							"id" : "multi_download_form",
							"$t" : "<div id=\"multi_download_form\" title=\"AJXP_MESSAGE[118]\"  box_width=\"345\"><div class=\"dialogLegend\">AJXP_MESSAGE[119]</div><br/><div id=\"multiple_download_container\"></div><form style=\"display:inline;\" action=\"index.php\" method=\"GET\" id=\"download_form\" target=\"download_iframe\"><input type=\"hidden\" name=\"get_action\" value=\"download\"><input type=\"hidden\" name=\"secure_token\" value=\"\"></form><iframe id=\"download_iframe\" name=\"download_iframe\" style=\"display:none\"></iframe></div>"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "prepare_chunk_dl",
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : "false"
					},
					"processing" : {
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "open_with",
					"fileDefault" : "true",
					"gui" : {
						"text" : "316",
						"title" : "316",
						"src" : "fileopen.png",
						"accessKey" : "open_with_access",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "hidden",
							"behaviour" : "hidden",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "put",
							"inZip" : "false"
						},
						"selectionContext" : {
							"dir" : "false",
							"file" : "true",
							"recycle" : "false",
							"unique" : "true",
							"allowedMimes" : "AJXP_MIMES_EDITABLE",
							"behaviour" : "hidden"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : ""
					},
					"subMenu" : {
						"dynamicBuilder" : "var context = window.builderContext;context.builderMenuItems = $A([]);var selectedMime = getAjxpMimeType(application.getUserSelection().getUniqueNode());var editors = application.findEditorsForMime(selectedMime);if(editors.length){var index = 0;var sepAdded = false;editors.each(function(el){if(!el.openable) return;if(el.mimes.include('*')){if(!sepAdded && index > 0){context.builderMenuItems.push({separator:true});}sepAdded = true;}context.builderMenuItems.push({name:el.text,alt:el.title,isDefault : (index == 0),image:resolveImageSource(el.icon, '/images/actions/ICON_SIZE', 22),callback:function(e){this.apply([el]);}.bind(context)} );index++;} );}if(!index){context.builderMenuItems.push({name:MessageHash[324],alt:MessageHash[324],image:resolveImageSource('button_cancel.png', '/images/actions/ICON_SIZE', 22),callback:function(e){}} );}"
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "false",
							"$t" : "var editorData = window.actionArguments[0];if(!editorData){var selectedMime = getAjxpMimeType(application.getUserSelection().getUniqueNode());var editors = application.findEditorsForMime(selectedMime);if(editors.length && editors[0].openable){editorData = editors[0];}}if(editorData){application.loadEditorResources(editorData.resourcesManager);modal.openEditorDialog(editorData);}else{if(application.actionBar.getActionByName(\"download\")){application.actionBar.getActionByName(\"download\").apply();}}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "ajxp_link",
					"gui" : {
						"text" : "369",
						"title" : "369",
						"src" : "ajxp-link.png",
						"hasAccessKey" : "false",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "false",
							"actionBar" : "false",
							"actionBarGroup" : "get",
							"contextMenu" : "true",
							"infoPanel" : "true"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "false",
							"recycle" : "false",
							"unique" : "true"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : "false"
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var loadFunc = function (oForm){var link;var input = oForm.down('input[type=\"text\"]');var url = document.location.href;if(url.indexOf('#') > 0){url = url.substring(0, url.indexOf('#'));}if(url.indexOf('?') > 0){url = url.substring(0, url.indexOf('?'));}var repoId = application.repositoryId || (application.user ? application.user.activeRepository : null);if(application.user){var slug = application.user.repositories.get(repoId).getSlug();if(slug) repoId = slug;}link = url + '?repository_id=' + repoId + '&folder=' + encodeURIComponent(application.getUserSelection().getUniqueFileName());input.value = link;var email = oForm.down('a[id=\"email\"]');if (email){email.setAttribute('href', 'mailto:unknown@unknown.com?Subject=UPLOAD&Body='+encodeURIComponent(link));}input.select();};modal.showDialogForm('Get', 'ajxp_link_form', loadFunc, function(){hideLightBox(true);return false;}, null, true);"
						},
						"clientForm" : {
							"id" : "ajxp_link_form",
							"$t" : "<div id=\"ajxp_link_form\" title=\"AJXP_MESSAGE[369]\"  box_width=\"280\" action=\"ajxp_link\"><fieldset><legend ajxp_message_id=\"296\">AJXP_MESSAGE[296]</legend><input type=\"text\" style=\"width:200px;margin-right:5px;\" id=\"ajxp_link_container\" class=\"dialogFocus\"/><a id=\"email\" title=\"AJXP_MESSAGE[323]\"><img style=\"border:none;\" align=\"absmiddle\" src=\"AJXP_THEME_FOLDER/images/actions/22/mail_generic.png\" height=\"22\" width=\"22\"/></a></fieldset></div>"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "stat",
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : "false"
					},
					"processing" : {
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "get_content",
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "false",
						"adminOnly" : "false"
					},
					"processing" : {
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "put_content",
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : "false"
					},
					"processing" : {
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "restore",
					"gui" : {
						"text" : "222",
						"title" : "223",
						"src" : "folder1_important.png",
						"accessKey" : "restore_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "only",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "true",
							"image" : "false",
							"editable" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var userSelection = application.getUserSelection();var fileNames = $A(userSelection.getFileNames());var connexion = new Connexion();connexion.addParameter('get_action', 'restore');connexion.addParameter('dir', userSelection.getCurrentRep());connexion.onComplete = function(transport){application.actionBar.parseXmlMessage(transport.responseXML);};fileNames.each(function(filename){connexion.addParameter('file', filename);connexion.sendAsync();});"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "mkdir",
					"gui" : {
						"text" : "154",
						"title" : "155",
						"src" : "folder_new.png",
						"accessKey" : "folder_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "false",
							"dir" : "true",
							"recycle" : "hidden",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change",
							"inZip" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "modal.showDialogForm('Create', 'mkdir_form', null, function(){var oForm = $(modal.getForm());var elementToCheck=(oForm['dirname']);if(application.getContextHolder().fileNameExists($(elementToCheck).getValue())){alert(MessageHash[125]);return false;}application.actionBar.submitForm(oForm);hideLightBox(true);return false;});"
						},
						"clientForm" : {
							"id" : "mkdir_form",
							"$t" : "<div id=\"mkdir_form\" action=\"mkdir\" box_width=\"200\">AJXP_MESSAGE[173]<br/><input type=\"text\" name=\"dirname\" size=\"30\" class=\"dialogFocus\"></div>"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "mkfile",
					"gui" : {
						"text" : "156",
						"title" : "157",
						"src" : "filenew.png",
						"accessKey" : "file_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "false",
							"dir" : "true",
							"recycle" : "hidden",
							"actionBar" : "false",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change",
							"inZip" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "modal.showDialogForm('Create', 'mkfile_form', null, function(){var oForm = $(modal.getForm());var elementToCheck=(oForm['filename']);if(application.getContextHolder().fileNameExists($(elementToCheck).getValue())){alert(MessageHash[125]);return false;}application.actionBar.submitForm(oForm);hideLightBox(true);return false;});"
						},
						"clientForm" : {
							"id" : "mkfile_form",
							"$t" : "<div id=\"mkfile_form\" action=\"mkfile\" box_width=\"200\">AJXP_MESSAGE[174]<br/><input type=\"text\" name=\"filename\" size=\"30\" class=\"dialogFocus\"></div>"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "rename",
					"gui" : {
						"text" : "6",
						"title" : "158",
						"src" : "applix.png",
						"accessKey" : "rename_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "hidden",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change",
							"inZip" : "false"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "true",
							"image" : "false",
							"editable" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var callback = function(node, newValue){var filename = node.getPath();var conn = new Connexion();conn.addParameter('get_action', 'rename');conn.addParameter('file', filename);conn.addParameter('filename_new', newValue);conn.onComplete = function(transport){application.actionBar.parseXmlMessage(transport.responseXML);};conn.sendSync();};if(application.getUserSelection() && application.getUserSelection().getSelectionSource() && application.getUserSelection().getSelectionSource().switchCurrentLabelToEdition) {application.getUserSelection().getSelectionSource().switchCurrentLabelToEdition(callback);}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "copy",
					"ctrlDragndropDefault" : "true",
					"gui" : {
						"text" : "66",
						"title" : "159",
						"src" : "editcopy.png",
						"accessKey" : "copy_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "hidden",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "false",
							"image" : "false",
							"editable" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "if(application.user){var user = application.user;var activeRepository = user.getActiveRepository();if(application.getUserSelection().hasDir() && !user.canWrite()){throw new Error(MessageHash[374]);}}var context = application.actionBar;var onLoad = function(oForm){var getAction = oForm.select('input[name=\"get_action\"]')[0];getAction.value = 'copy';this.treeSelector = new TreeSelector(oForm);if(!application.getUserSelection().hasDir() && user && user.canCrossRepositoryCopy() && user.hasCrossRepositories()){var firstKey ;var reposList = new Hash();user.getCrossRepositories().each(function(pair){if(!firstKey) firstKey = pair.key;reposList.set(pair.key, pair.value.getLabel());}.bind(this));if(!user.canWrite()){var nodeProvider = new RemoteNodeProvider();nodeProvider.initProvider({tmp_repository_id:firstKey});var rootNode = new AjxpNode(\"/\", false, MessageHash[373], \"folder.png\", nodeProvider);this.treeSelector.load(rootNode);}else{this.treeSelector.load();}this.treeSelector.setFilterShow(true);reposList.each(function(pair){this.treeSelector.appendFilterValue(pair.key, pair.value);}.bind(this));if(user.canWrite()) this.treeSelector.appendFilterValue(activeRepository, \"&lt;\"+MessageHash[372]+\"&gt;\", 'top');this.treeSelector.setFilterSelectedIndex(0);this.treeSelector.setFilterChangeCallback(function(e){externalRepo = this.filterSelector.getValue();var nodeProvider = new RemoteNodeProvider();nodeProvider.initProvider({tmp_repository_id:externalRepo});this.resetAjxpRootNode(new AjxpNode(\"/\", false, MessageHash[373], \"folder.png\", nodeProvider));});}else{this.treeSelector.load();}}.bind(context);var onCancel = function(){this.treeSelector.unload();hideLightBox();}.bind(context);var onSubmit = function(){var oForm = modal.getForm();var getAction = oForm.select('input[name=\"get_action\"]')[0];var selectedNode = this.treeSelector.getSelectedNode();if(activeRepository && this.treeSelector.getFilterActive(activeRepository)){getAction.value = \"cross_copy\" ;}application.getUserSelection().updateFormOrUrl(oForm);this.submitForm(oForm);this.treeSelector.unload();hideLightBox();}.bind(context);modal.showDialogForm('Move/Copy', 'copymove_form', onLoad, onSubmit, onCancel);"
						},
						"clientForm" : {
							"id" : "copymove_form",
							"$t" : "<div id=\"copymove_form\" action=\"copy\" box_width=\"272\"><input type=\"hidden\" name=\"dest_node\" value=\"\"/><div class=\"dialogLegend\">AJXP_MESSAGE[175]</div><select id=\"external_repository\" name=\"dest_repository_id\" style=\"width: 248px; font-size: 12px; height: 21px; margin-top:5px; margin-bottom:7px; border: 1px solid #ccc;\"></select><div style=\"height:200px; width:246px; padding: 0px 0px; border: 1px solid #ccc;\"><div id=\"treeCopy\" style=\"height:194px; padding: 3px 2px; overflow:auto; text-align:left;\" class=\"treeCopyContainer\"></div></div><input type=\"text\" name=\"dest\" value=\"/\" readonly  style=\"width:248px; border: 1px solid #ccc; margin-top:7px; margin-bottom:2px;background-image:none;\"/></div>"
						},
						"clientListener" : {
							"name" : "contextChange",
							"$t" : "if(application){var action = application.getActionBar().getActionByName(\"copy\");if(action){action.rightsContext.write = true;var ajxpUser = application.user;if(ajxpUser && !ajxpUser.canWrite() && ajxpUser.canCrossRepositoryCopy() && ajxpUser.hasCrossRepositories()){action.rightsContext.write = false;action.selectionContext.dir = false;application.actionBar.defaultActions.unset('ctrldragndrop');application.actionBar.defaultActions.unset('dragndrop');}if(application.getContextNode().hasAjxpMimeInBranch(\"ajxp_browsable_archive\")){action.setLabel(247, 248);action.setIconSrc('ark_extract.png');}else{action.setLabel(66, 159);action.setIconSrc('editcopy.png');}}}"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "move",
					"dragndropDefault" : "true",
					"gui" : {
						"text" : "70",
						"title" : "160",
						"src" : "editpaste.png",
						"accessKey" : "move_access_key",
						"hasAccessKey" : "true",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "hidden",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change",
							"inZip" : "false"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "false",
							"image" : "false",
							"editable" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var context = application.actionBar;if(application.user){var user = application.user;var activeRepository = user.getActiveRepository();}var context = application.actionBar;var onLoad = function(oForm){var getAction = oForm.select('input[name=\"get_action\"]')[0];getAction.value = 'move';this.treeSelector = new TreeSelector(oForm);this.treeSelector.load();if(!application.getUserSelection().hasDir() && user && user.canCrossRepositoryCopy() && user.hasCrossRepositories()){this.treeSelector.setFilterShow(true);user.getCrossRepositories().each(function(pair){this.treeSelector.appendFilterValue(pair.key, pair.value.getLabel());}.bind(this));this.treeSelector.appendFilterValue(activeRepository, \"&lt;\"+MessageHash[372]+\"&gt;\", 'top');this.treeSelector.setFilterSelectedIndex(0);this.treeSelector.setFilterChangeCallback(function(e){externalRepo = this.filterSelector.getValue();var nodeProvider = new RemoteNodeProvider();nodeProvider.initProvider({tmp_repository_id:externalRepo});this.resetAjxpRootNode(new AjxpNode(\"/\", false, MessageHash[373], \"folder.png\", nodeProvider));});}}.bind(context);var onCancel = function(){this.treeSelector.unload();hideLightBox();}.bind(context);var onSubmit = function(){var oForm = modal.getForm();var getAction = oForm.down('input[name=\"get_action\"]');var selectedNode = this.treeSelector.getSelectedNode();if(selectedNode == application.getContextNode().getPath()){alert(MessageHash[183]);return false;}application.getUserSelection().updateFormOrUrl(oForm);if(activeRepository && this.treeSelector.getFilterActive(activeRepository)){getAction.value = \"cross_copy\" ;var subAction = new Element('input', {type:'hidden',name:'moving_files',value:'true'});oForm.insert(subAction);this.submitForm(oForm, false, function(transport){var message = XPathSelectSingleNode(transport.responseXML, \"//message\");if(message.getAttribute(\"type\") == \"ERROR\"){application.displayMessage(\"ERROR\", message.firstChild.nodeValue);return;}getAction.value = \"delete\";subAction.name = \"force_deletion\";this.submitForm(oForm, false, function(transport2){var deleteMessage = XPathSelectSingleNode(transport2.responseXML, \"//message\");if(deleteMessage.getAttribute(\"type\") == \"ERROR\"){application.displayMessage(\"ERROR\", message.firstChild.nodeValue + '\\n\\n' + deleteMessage.firstChild.nodeValue);return;}else{application.displayMessage(\"SUCCESS\", message.firstChild.nodeValue);application.fireContextRefresh();}}.bind(this));}.bind(this));}else{this.submitForm(oForm);}this.treeSelector.unload();hideLightBox();}.bind(context);modal.showDialogForm('Move/Copy', 'copymove_form', onLoad, onSubmit, onCancel);"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "delete",
					"gui" : {
						"text" : "7",
						"title" : "161",
						"src" : "editdelete.png",
						"accessKey" : "delete_access_key",
						"hasAccessKey" : "true",
						"specialAccessKey" : "delete",
						"context" : {
							"selection" : "true",
							"dir" : "",
							"recycle" : "false",
							"actionBar" : "true",
							"contextMenu" : "true",
							"infoPanel" : "false",
							"actionBarGroup" : "change",
							"inZip" : "false"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "false",
							"image" : "false",
							"editable" : "false"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var onLoad = function(oForm){var message = MessageHash[177];var repoHasRecycle = application.getContextHolder().getRootNode().getMetadata().get(\"repo_has_recycle\");if(repoHasRecycle && repoHasRecycle == \"true\" && application.getContextNode().getAjxpMime() != \"ajxp_recycle\"){message = MessageHash[176];}$(oForm).getElementsBySelector('span[id=\"delete_message\"]')[0].innerHTML = message;};modal.showDialogForm('Delete', 'delete_form', onLoad, function(){var oForm = modal.getForm();application.getUserSelection().updateFormOrUrl(oForm);application.actionBar.submitForm(oForm);hideLightBox(true);return false;});"
						},
						"clientForm" : {
							"id" : "delete_form",
							"$t" : "<div id=\"delete_form\" action=\"delete\" box_width=\"200\"><span id=\"delete_message\"></span></div>"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "chmod",
					"gui" : {
						"text" : "287",
						"title" : "287",
						"src" : "ksysv.png",
						"accessKey" : "",
						"hasAccessKey" : "false",
						"context" : {
							"selection" : "true",
							"dir" : "true",
							"recycle" : "hidden",
							"behaviour" : "hidden",
							"actionBar" : "false",
							"contextMenu" : "true",
							"infoPanel" : "true",
							"actionBarGroup" : "change",
							"inZip" : "false"
						},
						"selectionContext" : {
							"dir" : "true",
							"file" : "true",
							"recycle" : "false",
							"unique" : "false",
							"allowedMimes" : "",
							"behaviour" : "hidden"
						}
					},
					"rightsContext" : {
						"noUser" : "true",
						"userLogged" : "only",
						"read" : "true",
						"write" : "true",
						"adminOnly" : ""
					},
					"processing" : {
						"clientCallback" : {
							"prepareModal" : "true",
							"$t" : "var userSelection =  application.getUserSelection();var loadFunc = function(oForm){application.actionBar.propertyPane = new PropertyPanel(userSelection, oForm);};var completeFunc = function(){if(!application.actionBar.propertyPane.valueChanged()){hideLightBox();return false;}userSelection.updateFormOrUrl(modal.getForm());application.actionBar.submitForm(modal.getForm());hideLightBox();return false;};modal.showDialogForm('Edit Online', 'properties_box', loadFunc, completeFunc);"
						},
						"clientForm" : {
							"id" : "properties_box",
							"$t" : "<div id=\"properties_box\" action=\"chmod\" box_width=\"180\"></div>"
						},
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}, {
					"name" : "purge",
					"processing" : {
						"serverCallback" : {
							"methodName" : "switchAction"
						}
					}
				}
			]
		},
		"client_configs" : {
			"component_config" : {
				"className" : "InfoPanel",
				"infoPanel" : [{
						"mime" : "no_selection",
						"attributes" : "",
						"messages" : {
							"message" : [{
									"key" : "folders_string",
									"id" : "130"
								}, {
									"key" : "files_string",
									"id" : "265"
								}, {
									"key" : "totalsize_string",
									"id" : "259"
								}
							]
						},
						"html" : "<div><table class=\"infoPanelTable\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\"><tr><td class=\"infoPanelLabel\">#{folders_string}</td><td class=\"infoPanelValue\">#{filelist_folders_count}</td></tr><tr class=\"even\"><td class=\"infoPanelLabel\">#{files_string}</td><td class=\"infoPanelValue\">#{filelist_files_count}</td></tr><tr><td class=\"infoPanelLabel\">#{totalsize_string}</td><td class=\"infoPanelValue\">#{filelist_totalsize}</td></tr></table></div>"
					}, {
						"mime" : "generic_file",
						"attributes" : "basename,preview_rich,filesize,mimestring,formated_date",
						"messages" : {
							"message" : [{
									"key" : "name_string",
									"id" : "133"
								}, {
									"key" : "size_string",
									"id" : "127"
								}, {
									"key" : "type_string",
									"id" : "134"
								}, {
									"key" : "modif_string",
									"id" : "138"
								}, {
									"key" : "header_string",
									"id" : "341"
								}
							]
						},
						"html" : "<div><div class=\"infoPanelImagePreview\">#{preview_rich}</div><div class=\"panelHeader infoPanelGroup\">#{header_string}</div><table class=\"infoPanelTable\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\"><tr><td class=\"infoPanelLabel\">#{name_string}</td><td class=\"infoPanelValue\">#{basename}</td></tr><tr class=\"even\"><td class=\"infoPanelLabel\">#{size_string}</td><td class=\"infoPanelValue\">#{filesize}</td></tr><tr><td class=\"infoPanelLabel\">#{modif_string}</td><td class=\"infoPanelValue\">#{formated_date}</td></tr><tr class=\"even\"><td class=\"infoPanelLabel\">#{type_string}</td><td class=\"infoPanelValue\">#{mimestring}</td></tr></table></div>"
					}, {
						"mime" : "generic_dir",
						"attributes" : "basename,icon,formated_date",
						"messages" : {
							"message" : [{
									"key" : "name_string",
									"id" : "133"
								}, {
									"key" : "modif_string",
									"id" : "138"
								}, {
									"key" : "header_string",
									"id" : "342"
								}
							]
						},
						"html" : "<div><div class=\"folderImage infoPanelImagePreview\"><img src=\"AJXP_THEME_FOLDER/images/mimes/64/#{icon}\" height=\"64\" width=\"64\"></div><div class=\"panelHeader infoPanelGroup\">#{header_string}</div><table class=\"infoPanelTable\" cellspacing=\"0\" border=\"0\" cellpadding=\"0\"><tr><td class=\"infoPanelLabel\">#{name_string}</td><td class=\"infoPanelValue\">#{basename}</td></tr><tr class=\"even\"><td class=\"infoPanelLabel\">#{modif_string}</td><td class=\"infoPanelValue\">#{formated_date}</td></tr></table></div>"
					}
				]
			}
		}
	}
}
